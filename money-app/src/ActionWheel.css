.wheel-wrapper {
    position: relative;
    right: auto;
    bottom: auto;

    /* DYNAMIC SIZING */
    width: var(--wheel-size, 320px);
    height: var(--wheel-size, 320px);

    /* DYNAMIC OFFSET (Handedness) */
    transform: translateX(var(--wheel-x-offset, 0px));
    transition: width 0.3s, height 0.3s, transform 0.3s;

    /* THE TUCK: Removed. Flush alignment. */
    margin-right: 0;

    margin-bottom: 80px;

    /* Flex Centering for internal Button alignment */
    display: flex;
    justify-content: center;
    align-items: center;

    z-index: 10;
}

/* THE SPINNING PART */
.wheel-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;

    border-radius: 50%;
    background: #222222;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    overflow: hidden;

    /* LOW Z-INDEX: Ensure Button (100) is clickable */
    z-index: 1;
}

/* --- THE GLOBAL TICKS OVERLAY --- */
.safe-dial-ticks {
    position: absolute;
    top: 5%;
    left: 5%;
    width: 90%;
    height: 90%;
    border-radius: 50%;

    /* FINAL TICKS: Visible White */
    background-image: repeating-conic-gradient(transparent 0deg,
            transparent 9deg,
            rgba(255, 255, 255, 0.2) 9deg,
            /* 20% Opacity White */
            rgba(255, 255, 255, 0.2) 10deg
            /* 1 deg thickness */
        );

    /* Soften the edges so ticks appear only near rim */
    -webkit-mask-image: radial-gradient(circle, transparent 65%, black 70%);
    mask-image: radial-gradient(circle, transparent 65%, black 70%);

    pointer-events: none;
    z-index: 6;
    /* Back to normal layering */
}

/* ... solid disk (EDIT MODE ONLY) ... */
.solid-disk-overlay {
    position: absolute;
    top: 5%;
    left: 5%;
    width: 90%;
    height: 90%;
    border-radius: 50%;
    background: #222;
    /* Dark base only (gradients moved to ticks) */

    z-index: 4;
    /* Below ticks (6) but above base */
    pointer-events: none;
}

/* The Wedges */
.wedge {
    position: absolute;
    top: 0;
    left: 50%;

    /* HALF OF WHEEL SIZE */
    height: calc(var(--wheel-size, 320px) / 2);

    /* Radius */
    transform-origin: bottom center;

    pointer-events: none;
    display: flex;
    justify-content: center;
}

/* 1) Background Shape (The Wedges) */
.wedge-shape {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;

    background: #2C2C2E;
    /* DARK GREY (Pre-v1.39) */

    /* Triangle Geometry */
    clip-path: polygon(0 0, 100% 0, 50% 100%);

    z-index: 1;
}

/* ... touch target ... */
.wedge-content-touch-target {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    z-index: 5;
    pointer-events: auto;
    clip-path: polygon(0 0, 100% 0, 50% 100%);
}

.wedge-content-touch-target:active {
    background-color: rgba(255, 255, 255, 0.1);
}

/* The Actual Text Number */
.wedge-content {
    position: absolute;
    top: 15px;

    font-size: 38px;
    font-weight: 700;
    color: #FFFFFF;
    white-space: nowrap;
}

.wedge:active {
    background: rgba(255, 255, 255, 0.1);
}

/* THE CENTER BUTTON (Fixed, does not spin) */
.center-btn {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);

    /* ~47% of wheel size */
    width: calc(var(--wheel-size, 320px) * 0.47);
    height: calc(var(--wheel-size, 320px) * 0.47);

    border-radius: 50%;
    background: var(--accent-color, #4CAF50);
    border: 5px solid #1a1a1a;
    color: white;
    font-size: 24px;
    font-weight: bold;
    z-index: 100;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    margin: 0;
    transition: width 0.3s, height 0.3s;
}

.center-btn:active {
    transform: translate(-50%, -50%) scale(0.95);
}

/* --- CONTEXT MODE (3 Items) --- */
.context-wedge {
    width: calc(var(--wheel-size, 320px) * 0.81);
    /* Scaled from 260/320 */
    margin-left: calc(var(--wheel-size, 320px) * -0.405);
}

.context-wedge .wedge-shape {
    background: #2C2C2E;
    clip-path: polygon(0 0, 100% 0, 50% 100%);
}

.context-wedge .wedge-content {
    font-size: 20px;
    top: 25px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.wedge-sublabel {
    font-size: 12px;
    opacity: 0.7;
    margin-top: 5px;
}